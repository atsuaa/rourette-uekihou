(function(t){function e(e){for(var i,r,l=e[0],o=e[1],h=e[2],c=0,f=[];c<l.length;c++)r=l[c],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&f.push(n[r][0]),n[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);a&&a(e);while(f.length)f.shift()();return u.push.apply(u,h||[]),s()}function s(){for(var t,e=0;e<u.length;e++){for(var s=u[e],i=!0,l=1;l<s.length;l++){var o=s[l];0!==n[o]&&(i=!1)}i&&(u.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},n={app:0},u=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var h=0;h<l.length;h++)e(l[h]);var a=o;u.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("fb6a"),s("4de4"),s("d3b7"),s("a434"),s("845f");var i=s("5ee5"),n=s.n(i),u=0,r=1,l=2,o=3,h=4,a="w",c="l",f={half:function(t){return t+Math.floor(t/2)},plusX:function(t,e){return t+e}};new n.a({el:"#app",data:{initialBet:null,bet:null,turn:0,turnInTerm:0,offsetBenefitInTerm:0,total:0,loss:0,situation:u,resultStack:[],result:null,plusMinus:null,plusBet:2,nextBet:null,assembleSpliced:!1},computed:{d_nextBet:function(){if(this.loss>=0||this.situation===u)return this.initialBet;if(this.d_situation===l)return f.plusX(this.resultStack.slice(-1)[0].bet,this.getPlusBet(this.resultStack.slice(-1)[0].bet));if(this.d_situation===o)return this.resultStack.slice(-2,-1)[0].bet+1;throw"no nextBet err"},recentLoseBet:function(){for(var t=1;t<this.resultStack.length;t++){var e=this.resultStack.slice(-t)[0];if(e===c)return e.bet}throw"no lose result"},d_situation:function(){return this.resultStack.length<1?u:this.resultStack.filter((function(t){return t.result===c})).length<1?r:this.resultStack.slice(-1)[0].result===c?l:this.resultStack.slice(-2,-1)[0].result===c?o:h},reverseResultStack:function(){return this.resultStack.slice().reverse()}},mounted:function(){this.init(),this.ready(this.initialBet)},methods:{dispResultText:function(t){if(t!==a&&t!==c)throw"invalid result";return t===a?"win":"lose"},init:function(){this.initialBet=5},ready:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.turn++,this.turnInTerm++,null===this.nextBet&&(this.nextBet=this.initialBet+this.getPlusBet()),this.bet=t,this.assembleSpliced=!1},runResultReceiver:function(t){if(t!==a&&t!==c)throw"invalid result str";this.setResult(t),this.setPlusMinus(),this.stackResultSet(),this.setSituation(),this.countOffsetBenefitInTerm(),this.countLoss(),this.assembleResultSet(),this.reduceStackWithBenefit(),this.setNextBet(),this.changeSituation(),this.readyNextTurn()},setResult:function(t){this.result=t},setPlusMinus:function(){this.plusMinus=this.result===a?this.bet:2*-this.bet},stackResultSet:function(){this.resultStack.push({bet:this.bet,result:this.result,plusMinus:this.plusMinus,loss:null})},setSituation:function(){this.situation=this.d_situation},countOffsetBenefitInTerm:function(){this.situation===h&&(this.offsetBenefitInTerm=this.offsetBenefitInTerm+this.resultStack.slice(-3,-1)[0].plusMinus+this.resultStack.slice(-2,-1)[0].plusMinus+this.resultStack.slice(-1)[0].plusMinus)},countLoss:function(){this.setLoss(this.plusMinus);var t=this.resultStack.pop();t.loss=this.loss,this.resultStack.push(t)},setLoss:function(t){this.loss+=t},assembleResultSet:function(){if(this.situation!==r)return this.situation===h?(this.resultStack.splice(-3),void(this.assembleSpliced=!0)):void 0;this.resultStack=[]},reduceStackWithBenefit:function(){var t,e;this.assembleSpliced&&(this.resultStack.slice(-1)[0].result===c?(e=-1,t=Math.abs(this.resultStack.slice(e)[0].plusMinus)):(e=-2,t=Math.abs(this.resultStack.slice(e)[0].plusMinus)),t<=this.offsetBenefitInTerm&&(this.resultStack.splice(e),this.offsetBenefitInTerm-=t))},getPlusBet:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===t)return this.plusBet,2;var e=Math.floor((t-1)/5)+1;return e<2&&(e=2),e=e<5?e:5,this.plusBet=e,e},setNextBet:function(){this.nextBet=this.d_nextBet},changeSituation:function(){if(this.loss>=0)this.situation=u;else if(this.situation!==r){if(this.situation===h)if(this.resultStack.slice(-1)[0].result===c)this.situation=l;else{if(this.resultStack.slice(-2,-1)[0].result!==c)throw"bad situation 3";this.situation=o}}else this.situation=u},readyNextTurn:function(){this.totalize(),this.loss>=0&&(this.resultStack=[],this.turnInTerm=0),this.ready(this.nextBet)},totalize:function(){this.situation===u&&(this.total+=this.loss,this.loss=0,this.offsetBenefitInTerm=0)}}})},"845f":function(t,e,s){}});
//# sourceMappingURL=app.7cd80ec1.js.map